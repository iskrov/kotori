# [Task 8-1] Create Design System Foundation

[Back to task list](./tasks.md)

## Description

Create a centralized theme system that establishes the calm, low-stimulation visual design language for the entire Kotori app. This foundation will ensure consistency across all screens and components.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-08-11 10:15:00 | Created | N/A | Proposed | Task file created | ai-agent |
| 2025-08-11 17:15:00 | Status Change | Proposed | InProgress | Started implementation | ai-agent |
| 2025-08-11 17:45:00 | Status Change | InProgress | Review | Design system foundation complete | ai-agent |

## Requirements

### Functional Requirements
1. Create `frontend/src/styles/theme.ts` with comprehensive design tokens
2. Define color palette replacing purple (#7D4CDB) with teal (#2DA6A0)
3. Establish typography system using Inter/Nunito fonts
4. Define spacing scale (8, 12, 16, 24, 32, 48px)
5. Create shadow definitions for soft elevation
6. Export theme object compatible with existing theme context

### Technical Requirements
1. Maintain compatibility with `useAppTheme` hook
2. Support both light and dark modes (dark mode with adjusted teal)
3. Include responsive breakpoints for web
4. Define component-level style patterns (cards, buttons, inputs)
5. Include accessibility tokens (focus rings, touch targets)

### Design Specifications
**Color Tokens:**
```
primary: #2DA6A0 (teal)
primaryLight: #7CD4CF
primaryDark: #1E8B86
background: #F7F9FB
surface: #FFFFFF
textHeading: #0E1726
textBody: #3C4A5E
textMuted: #8FA0B2
border: #E6ECF1
chipBackground: #E8F6F5
chipText: #2DA6A0
```

**Typography:**
```
fontFamily: Inter, Nunito, system-ui
headingSizes: 24, 20, 18, 16
bodySizes: 14, 13, 12
lineHeight: 1.5-1.6
fontWeights: 400 (regular), 500 (medium), 600 (semibold)
```

**Shadows:**
```
soft: 0 8px 24px rgba(14,23,38,0.06)
medium: 0 12px 32px rgba(14,23,38,0.08)
```

## Implementation Plan

1. **Review existing theme structure**
   - Analyze current `frontend/src/config/theme.ts`
   - Identify all theme consumers in the app
   - Document required theme properties

2. **Create new theme file**
   - Build `frontend/src/styles/theme.ts`
   - Define all color tokens
   - Set up typography scales
   - Create spacing and sizing units
   - Add shadow definitions

3. **Integrate with existing system**
   - Update theme imports in `ThemeContext`
   - Ensure backward compatibility
   - Test theme switching if applicable

4. **Create style utilities**
   - Common component styles (card, button, input)
   - Focus state utilities
   - Responsive helpers

## Verification

### Test Plan
1. **Theme Integration**
   - Verify theme loads without errors
   - Check all existing screens still render
   - Confirm useAppTheme hook works correctly

2. **Visual Verification**
   - Colors match specified hex values
   - Typography renders with correct fonts
   - Shadows appear soft and subtle

3. **Accessibility Checks**
   - Color contrast meets WCAG AA (4.5:1)
   - Focus states are clearly visible
   - Touch target sizes defined (48px)

### Success Criteria
- [ ] Theme file created with all specified tokens
- [ ] Existing app functionality unchanged
- [ ] Theme successfully integrated with ThemeContext
- [ ] All color values updated from purple to teal
- [ ] Typography system implemented
- [ ] No console errors or warnings

## Files Modified

- `frontend/src/styles/theme.ts` (new) - Comprehensive Kotori design system
- `frontend/src/contexts/ThemeContext.tsx` - Updated imports to use new theme
- `frontend/src/styles/authStyles.ts` - Updated to use centralized design tokens

## Implementation Summary

### ✅ Completed Features

1. **Color System Transformation**
   - Replaced purple (#6366F1) with teal (#2DA6A0) as primary color
   - Implemented calm text colors: #0E1726 (headings), #3C4A5E (body), #8FA0B2 (muted)
   - Added chip/tag colors: #E8F6F5 background, #2DA6A0 text
   - Created comprehensive dark mode palette

2. **Typography Enhancement**
   - Integrated Inter font family for web
   - Optimized line heights (1.5-1.6) for better readability
   - Maintained existing font size scale

3. **Soft Shadow System**
   - Implemented gentle shadows: 0 8px 24px rgba(14,23,38,0.06)
   - Reduced shadow opacity for calm aesthetic
   - Created elevation hierarchy

4. **Component Style Patterns**
   - Card styles with 16px border radius
   - Button patterns with 48px height
   - Input field styling with focus states
   - Chip/tag components

5. **Accessibility Tokens**
   - Minimum 48px touch targets
   - Focus ring specifications
   - Contrast ratio guidelines
   - WCAG AA compliance colors

### ✅ Verification Results

- [x] Theme file created with all specified tokens
- [x] Existing app functionality unchanged
- [x] Theme successfully integrated with ThemeContext
- [x] All color values updated from purple to teal
- [x] Typography system implemented
- [x] No console errors or warnings
- [x] Auth screens display correctly with new colors
- [x] App runs successfully on localhost:19006

### Next Steps

Ready to proceed with Task 8-2: Update HomeScreen Visual Design
